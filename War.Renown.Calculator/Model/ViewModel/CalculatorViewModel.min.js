var Wrc;(function(n){(function(t){(function(t){var i=function(){function t(t){var i=this;this._repository=t,this.Categories=ko.observableArray(ko.utils.arrayMap(this._repository.Categories,function(t){return new n.Model.Category(t.Name)})),this.Traits=ko.observableArray(ko.utils.arrayMap(this._repository.Traits,function(t){return new n.Model.Trait(t.Category,t.Name)})),this.Levels=ko.observableArray(ko.utils.arrayMap(this._repository.Levels,function(t){return new n.Model.ValueLevel(t.Description,t.Cost,t.Trait,t.Value)}))}return t.prototype.GetTraitsInCategory=function(n){var t=this;return t._traitsInCategory=ko.computed({read:function(){return Enumerable.From(t.Traits()).Where(function(t){return t.Category==n}).ToArray()}}),t._traitsInCategory},t.prototype.GetLevelsInTrait=function(n){var t=this;return t._LevelsInTrait=ko.computed({read:function(){return Enumerable.From(t.Levels()).Where(function(t){return t.Trait==n}).ToArray().sort(function(n,t){return t-n})}}),t._LevelsInTrait},t.prototype.SelectLevel=function(){var n=this;return function(){ko.utils.arrayForEach(n.Levels(),function(n){return n.Selected=ko.observable(n.Selected)});var t=ko.utils.arrayFirst(n.Levels(),function(n){return!n.Selected});t.Selected=!0}},t}();t.CalculatorViewModel=i})(t.ViewModel||(t.ViewModel={}));var i=t.ViewModel})(n.Model||(n.Model={}));var t=n.Model})(Wrc||(Wrc={}))